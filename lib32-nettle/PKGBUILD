# Maintainer: abveritas[at]chakra-project[dot]org>

_pkgbasename=nettle
pkgname=lib32-$_pkgbasename
pkgver=2.7
pkgrel=1
pkgdesc="Nettle - a low-level cryptographic library."
arch=('x86_64')
url="http://www.lysator.liu.se/~nisse/nettle/"
license=('GPL')
depends=('gmp' "$_pkgbasename=$pkgver")
makedepends=(gcc-multilib)
source=("http://www.lysator.liu.se/~nisse/archive/${_pkgbasename}-${pkgver}.tar.gz")
md5sums=('2caa1bd667c35db71becb93c5d89737f')

build() {
  cd "${srcdir}/${_pkgbasename}-${pkgver}"

  export CC="gcc -m32"
  export CXX="g++ -m32"
  export PKG_CONFIG_PATH="/usr/lib32/pkgconfig"
  
  ./configure --prefix=/usr --libdir=/usr/lib --enable-shared
  make
}

package() {
  cd "${srcdir}/${_pkgbasename}-${pkgver}"
  
  make DESTDIR="${pkgdir}" install
}

